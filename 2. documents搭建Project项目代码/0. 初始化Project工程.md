# 初始化

dotnet new webapi -n Project.API --use-controllers --force
dotnet new classlib -n Project.Domain
dotnet new classlib -n Project.Infrastructure

# 将项目添加到解决方案

dotnet sln add Project/Project.API/Project.API.csproj
dotnet sln add Project/Project.Domain/Project.Domain.csproj
dotnet sln add Project/Project.Infrastructure/Project.Infrastructure.csproj

# 设置项目引用关系

通常的依赖关系是：

API → Infrastructure → Domain

```
# Infrastructure 引用 Domain
dotnet add Project.Infrastructure/Project.Infrastructure.csproj reference Project.Domain/Project.Domain.csproj

# API 引用 Infrastructure
dotnet add Project.API/Project.API.csproj reference Project.Infrastructure/Project.Infrastructure.csproj

# API 也可以直接引用 Domain（根据你的架构设计）
dotnet add Project.API/Project.API.csproj reference Project.Domain/Project.Domain.csproj
```

# 添加 nuget 包

dotnet add Project.Domain package MediatR --version 11.1.0

dotnet add Project.API package MediatR --version 11.1.0
dotnet add Project.API package MediatR.Extensions.Microsoft.DependencyInjection --version 11.1.0
dotnet add Project.API package Microsoft.EntityFrameworkCore.Design --version 8.0.0

dotnet add Project.Infrastructure package MediatR --version 11.1.0

# 有一个考虑

服务发现的功能可以写成 nuget 包
D:\Code\1.microservice\2.netcore_microservice_userService\Project\Project.API\Dtos\ServerDiscoveryConfig.cs
